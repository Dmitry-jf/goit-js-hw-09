{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\")\nconst STORAGE_KEY = \"feedback-form-state\"       // ключ где будет хранится значение\n\nconst formData = { email: \"\", message: \"\" }  // держит текущее значение  email, message\n\n\n\n// Восстанавливаем данные из localStorage\n\n\nconst localValue = localStorage.getItem(STORAGE_KEY)\n\nif (localValue) {\n    const parsedData  = JSON.parse(localValue)\n    formData.email = parsedData.email || \"\";\n    formData.message = parsedData.message || \"\";\n    form.elements.email.value = formData.email;\n    form.elements.message.value = formData.message;\n\n}\n\n// сохраняем данные при вводе\nform.addEventListener(\"input\", event => {\n    const { name, value } = event.target;  //const name = event.target.name; || const value = event.target.value;\n\n    formData[name] = value.trim(); \n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData)); // 15\n})\n\n// Обработка сабмита\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n\n    if (formData.email === \"\" || formData.message === \"\") {\n        alert(\"Fill please all fields\")\n\n        return;\n    }\n    console.log(formData);\n\n    // очистка\n    localStorage.removeItem(STORAGE_KEY);\n    formData.email = \"\";\n    formData.message = \"\";\n    form.reset();\n})\n"],"names":["form","STORAGE_KEY","formData","localValue","parsedData","event","name","value"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAc,sBAEdC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAI,EAOrCC,EAAa,aAAa,QAAQF,CAAW,EAEnD,GAAIE,EAAY,CACZ,MAAMC,EAAc,KAAK,MAAMD,CAAU,EACzCD,EAAS,MAAQE,EAAW,OAAS,GACrCF,EAAS,QAAUE,EAAW,SAAW,GACzCJ,EAAK,SAAS,MAAM,MAAQE,EAAS,MACrCF,EAAK,SAAS,QAAQ,MAAQE,EAAS,OAE3C,CAGAF,EAAK,iBAAiB,QAASK,GAAS,CACpC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAE9BH,EAASI,CAAI,EAAIC,EAAM,KAAI,EAC3B,aAAa,QAAQN,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC9D,CAAC,EAIDF,EAAK,iBAAiB,SAAUK,GAAS,CAGrC,GAFAA,EAAM,eAAc,EAEhBH,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CAClD,MAAM,wBAAwB,EAE9B,MACH,CACD,QAAQ,IAAIA,CAAQ,EAGpB,aAAa,WAAWD,CAAW,EACnCC,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBF,EAAK,MAAK,CACd,CAAC"}